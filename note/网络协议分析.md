### 网络协议分析
#### 1. 概述(1)
* ##### 协议定义
	1. 计算机网络不可缺少的组成部分
	2. 为网络中互相通信的对等实体间进行数据交换而建立的规则标准或约定，保证实体在计算机网络中有序交换数据
	3. 位于不同系统的同一层次内交互的实体，就构成了对等实体。 
	4. 协议三要素：
		* 语法：数据报文中的控制信息(通常在报文的首部)和各种控制报文的结构、格式
		* 语义：协议数据报文中的控制信息和控制报文所约定的含义
		* 同步：通信过程中各种控制报文传送的顺序关系
	5. 网络体系结构：将计算机网络的各层及其协议的集合称为网络的体系结构。
		* ISO的OSI/RM(开放系统互连/参考模型
		* IBM的SNA(系统网络体系结构)
		* DEC的DNA(分布式网络体系结构)
		* IETF的TCP/IP 
		
* ##### 协议标准化（主要介绍了标准化的必要性和各个组织）
	1. to ensure that materials, products, processes and services are fit for their purpose, 
	2. contribute to making life simpler, and to increasing the reliability and effectiveness of the goods and services we use

* ##### 协议工程
	1. 定义：集成化、形式化的协议开发过程称为协议工程
	2. 目的：减少错误、提高效率、促进标准化发展
	3. 形式描述模型
		* 有限状态机FSM
		* Petri网
		* 时序逻辑TL
		* 通信系统演算CCS
		* 通信顺序进程
		* 形式文法FG
	4. 形式描述语言：
		* CCTTT制定的SDL
		* ISO制定的Estelle和LOTOS
		* 对象管理组织OMG指定的统一建模语言UML
	5. 协议验证： 
		* 可达性分析
		* 死锁和活锁检测
		* 协议的有界性和完整性检查
		* 协议的动作序列检查
		* 通道溢出检查等 
	6. 验证方法：模型检查和证明

#### 2. 协议设计(2\)
* 协议模型
	1. 分层的好处
		* 灵活性好
		* 结构上可分隔开
		* 易于实现和维护
		* 将高层工作与低层细节分开
	2. n层协议模型
		* (n)服务
			1. 接受(n)服务的是上一层实体，即(n+1)实体。它们也称为(n)用户或更严格些是(n)服务用户。 
			2. 两个(n)实体在(n)协议的控制下的通信，使(n)层能够向(n+1)层提供服务。这种服务就是(n)服务。
		* SAP调用服务 
			3. 同一系统相邻两层的实体进行交互的地方，通常称为服务访问点SAP (Service Access Point) 
		
			4. 服务用户通过SAP调用服务，一个SAP拥有唯一的地址。
			5. SAP可以比作邮局，其提供各种邮递服务；其他的例子包括：电话服务的电话或手机。
			6. 服务用户通过在一个SAP递交数据并从另一个SAP读出。
		* 服务原语
			7. 在进行交互时所要交换的一些必须信息(或命令)称为服务原语(Service Primitives)，以表明需要本地的或远端的对等实体做什么事情。原语告诉服务实体要执行某个动作，或者将对等实体所执行的动作报告给用户。
			8. 服务的调用是通过SP描述的，具体而言，SP就是服务用户与服务提供者之间的交互的抽象描述，并不限定这些交互如何实现。
			9. 服务原语的使用可以与电话服务作类比：电话响铃是电话服务的一个服务原语，表示来电请求，拨号音表示线路空闲，忙音表示被叫电话忙
		* OSI服务原语
		
			1. Request (请求): 一个实体希望得到某种服务 
			2. Indication (指示)：把关于某一事件的信息告诉某一实体 
			3. Response (响应)：一个实体愿意响应某一事件 
			4. Confirm (证实)：把一个实体的服务请求加以确认并告诉它
		* 数据协议单元
			1. 将(n)层对等实体之间，为实现该层协议所交换的信息单元称为协议数据单元PDU (Protocol Data Unit)。通常将第n层的协议数据单元记为(n)PDU。
			2. 一个(n)实体向上一层所提供的服务由以下三部分构成： 		
				* (n)实体自己提供的某些功能。 
				* 通过与处在另一系统中的对等(n)实体的通信而得到的服务。
				* 从(n-1)层及其以下各层以及本地系统环境得到的服务。
			3. PDU通常由2部分构成：用户数据和协议控制信息
				* 两种类型：
					1. 数据PDU
					2. 控制PDU，不携带用户数据。
				* PCI(Protocol Control Information):PCI一般作为首部加在用户数据的前面，但有时也可作为尾
		* 服务数据单元SDU (Service Data Unit)
 			1. 定义：层与层之间交换的数据的单元称为服务数据单元SDU (Service Data Unit)
 			2.  **协议是“水平的”，即协议是控制对等实体之间通信的规则。
服务是“垂直的”，即服务是由下层向上层通过层间接口提供的。**

		* 协议的通信环境\
			1.  
	 
		
#### 3. 形式化描述技术(3、4)
####  4. 协议验证（5、6）
#### 5. 协议一致性测试（7）

